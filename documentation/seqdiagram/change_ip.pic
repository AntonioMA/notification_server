.PS
copy "sequence.pic"

#boxwid = 1
movewid = 2.7

# Object definition
object(N,"node")
object(S,"notification")
step

# Detected IP change - re-register node IP adress
step
active(N)
message(N,N,"event('new IP')")

# Registration on Notification Server
message(N,S,"GET /register/node?t=NODE_UUID&ip=IP")
active(S)
message(S,S,"check_node(NODE_UUID); check_ip(IP) / delete")
message(S,S,"store(NODE_UUID,IP)")
return_message(S,N,"REGISTERED")
inactive(S)
step
inactive(N)

step

# End diagram
step
complete(N)
complete(S)

.PE